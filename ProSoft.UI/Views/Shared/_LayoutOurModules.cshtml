@inject IViewLocalizer localizer

@{
    var isRTL = CultureInfo.CurrentCulture.Name.StartsWith("ar");
    var F_Year = User.Claims.FirstOrDefault(c => c.Type == "F_Year");
}
<!DOCTYPE html>
<html lang="en" dir="@(isRTL ? "rtl" : "ltr")">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modules</title>
    @if (isRTL)
    {
        <link rel="stylesheet" href="~/css/bootstrap-rtl.min.css" asp-append-version="true" />
    }
    else
    {
        <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    }
    <link rel="stylesheet" href="~/css/layout_ourModules.css" asp-append-version="true" />
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
          crossorigin="anonymous"
          referrerpolicy="no-referrer" />
    <style>
        /* Medical Theme Styles */
        :root {
            --medical-primary: #007bff; /* Blue for primary actions */
            --medical-secondary: #6c757d; /* Gray for secondary elements */
            --medical-background: #f0f8ff; /* Light blue background */
            --medical-text: #333; /* Dark text for readability */
            --medical-accent: #28a745; /* Green for accents */
            --medical-border: #ddd; /* Light border color */
        }

        body {
            background-color: var(--medical-background);
            color: var(--medical-text);
            font-family: 'Arial', sans-serif;
        }

        .main-container {
            display: flex;
            width: 100%;
            height: 100vh; /* Full height of the viewport */
        }

        #navbarContainer {
            width: 250px; /* Fixed width for the navbar */
            background-color: white; /* White background for the navbar */
            border-right: 1px solid var(--medical-border);
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1); /* Subtle shadow */
            padding: 20px;
            margin: 20px;
            border-radius: 10px;
        }

            #navbarContainer a {
                color: var(--medical-text);
                text-decoration: none;
                display: block;
                padding: 10px;
                border-radius: 5px;
                transition: background-color 0.3s ease;
            }

                #navbarContainer a:hover {
                    background-color: var(--medical-primary);
                    color: white;
                }

        .content-container {
            flex: 1; /* Take remaining space */
            padding: 20px; /* Add some padding */
            background-color: white; /* White background for content */
            margin: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        }

        /* Medical-themed buttons */
        .btn-medical-primary {
            background-color: var(--medical-primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

            .btn-medical-primary:hover {
                background-color: #0056b3; /* Darker blue on hover */
            }

        .btn-medical-secondary {
            background-color: var(--medical-secondary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

            .btn-medical-secondary:hover {
                background-color: #5a6268; /* Darker gray on hover */
            }

        /* Medical-themed headings */
        h1, h2, h3, h4, h5, h6 {
            color: var(--medical-primary);
        }

        /* Medical-themed table */
        .table-medical {
            width: 100%;
            border-collapse: collapse;
        }

            .table-medical th,
            .table-medical td {
                padding: 12px;
                border: 1px solid var(--medical-border);
            }

            .table-medical th {
                background-color: var(--medical-primary);
                color: white;
            }

            .table-medical tr:nth-child(even) {
                background-color: #f9f9f9;
            }

            .table-medical tr:hover {
                background-color: #f1f1f1;
            }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- Navbar -->
        <div id="navbarContainer">
            <!-- Navbar content will be injected here by JavaScript -->
        </div>

        <!-- Main content -->
        <div class="content-container">
            @RenderBody()
        </div>
    </div>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="~/js/navbarmanager.js" asp-append-version="true"></script>
    <script>
        // function toggleNav() {
        //     const navBar = document.getElementById("mySidebar");
        //     navBar.classList.toggle("nav-open");

        //     const overlay = document.querySelector(".overlay");
        //     overlay.classList.toggle("lay-active");
        // }


        const navbar = new NavbarManager('navbarContainer');
        navbar.createNav([
            {
                text: '@localizer["Medical System"]',
                subMenu: [
                    {
                        text: '@localizer["Main data"]',
                        subMenu: [
                            {
                                text: '@localizer["Analysis guide"]',
                                href: '/Medical/MainAnalysis/Index'
                            },
                            {
                                text: '@localizer["Price Lists"]',
                                href: '/Medical/PriceList/Index'
                            },
                            {
                                text: '@localizer["Companys"]',
                                href: '/Medical/CompanyGroup/Index'
                            },
                            {
                                text: '@localizer["Definitions"]',
                                subMenu: [
                                    {text:'@localizer["Catheter Section"]',
                                    subMenu:[
                                    {
                                        text:'@localizer["Source Of Catheter"]',
                                        href:'/Medical/SourceOfCatheter/Index'
                                    },
                                      {
                                        text:'@localizer["List Of Catheter Procedures"]',
                                        href:'/Medical/ListOfCatheterProcedures/Index'
                                    },
                                       {
                                        text:'@localizer["List Of Stents And Catheters"]',
                                        href:'/Medical/Stent/Index'
                                    }
                                    ]
                                    },

                                    {
                                        text: '@localizer["Degree And Room And Bed"]',
                                        href: '/Medical/DegreeAndRoomAndBed/Index'
                                    }, 
                                    {
                                        text: '@localizer["Patient Definations"]',
                                        href: '/Medical/patient/Patients'
                                    },
                                    {
                                        text: '@localizer["Doctor Degree"]',
                                        href: '/Medical/DrDegree/Index'
                                    },
                                    {
                                        text: '@localizer["Doctor Definations"]',
                                        href: '/Medical/Doctor/Index'
                                    },
                                    {
                                        text: '@localizer["Doctors Percentages"]',
                                        href: '/Medical/DoctorPercentage/Index'
                                    },
                                    {
                                        text: '@localizer["Referral Doctor Commissions"]',
                                        href: '/Medical/DrDiscount/Index'
                                    },
                                    {
                                        text: '@localizer["Doctors Appointments"]',
                                        href: '/Medical/DrTimeSheet/Index'
                                    },
                                    {
                                        text: '@localizer["Types of Examinations"]',
                                        href: '/Medical/CheckupClinic/Index'
                                    },
                                    {
                                        text: '@localizer["Department services"]',
                                        href: '/Medical/MainClinic/Index'
                                    },
                                    {
                                        text: '@localizer["National Definations"]',
                                        href: '/Shared/Nationality/Nationalities'
                                    },
                                    {
                                        text: '@localizer["Nursing Data"]',
                                        href: '/Medical/NursingData/Index'
                                    },
                                    {
                                        text: '@localizer["kinship"]',
                                        href: '/Medical/kinship/Index'
                                    },
                                    {
                                        text: '@localizer["Joining Users With Medical Services"]',
                                        href: '/Medical/UsersSection/Index'
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        text: '@localizer["Transactions"]',
                        subMenu: [
                            {
                                text: '@localizer["Medical Records"]',
                                href: '/MedicalRecords/PatRecord/AllPatients'
                            },
                            {
                                text: '@localizer["Medical Analysis"]',
                                href: '/Medical/HospitalPatData/AnalysisTransactions'
                            },
                            {
                                text: '@localizer["Medical Invoices"]',
                                href: '/Medical/HospitalPatData/Invoices'
                            },
                            {
                                text: '@localizer["Medical Requirements"]',
                                href: '/Medical/HospitalPatData/Requirements'
                            }
                        ]
                    },
                    {
                        text: '@localizer["Reports"]',
                        subMenu: [
                            {
                                text: '@localizer["Doctor\'s fees"]',
                                href: '/Medical/ReportDoctorFees/Index'
                            }
                        ]
                    }
                ]
            }
            , {
                // Stocks System
                text: '@localizer["Stocks System"]',
                subMenu: [
                    {
                        text: '@localizer["Main data"]',
                        subMenu: [
                            {
                                text: '@localizer["Definitions"]',
                                subMenu:
                                    [
                                        {
                                            text: '@localizer["Stocks Types"]',
                                            href: '/Stocks/StockType/Index'
                                        },
                                        {
                                            text: '@localizer["Stocks"]',
                                            href: '/Stocks/Stock/Index'
                                        },
                                        {
                                            text: '@localizer["Sides"]',
                                            href: '/Stocks/Side/Index'
                                        },
                                        {
                                            text: '@localizer["Unit Codes"]',
                                            href: '/Stocks/UnitCode/Index'
                                        },
                                        {
                                            text: '@localizer["Departments"]',
                                            href: '/Shared/ClassificationCust/Index'
                                        },
                                        {
                                            text: '@localizer["The Sections"]',
                                            href: '/Shared/Section/Index'
                                        },
                                        {
                                            text: '@localizer["Joining Departments With Sections"]',
                                            href: '/Stocks/DepartmentsWithSections/Index'
                                        },
                                        {
                                            text: '@localizer["Customer Pricing"]',
                                            href: '/Stocks/ItemsCustPrice/Index'
                                        },
                                        {
                                            text: '@localizer["Permissions Names"]',
                                            href: '/Shared/PermitDefinition/Index'
                                        },
                                        {
                                            text: '@localizer["Joining Users With Transactions"]',
                                            href: '/Stocks/UserTransaction/Index'
                                        },
                                        {
                                            text: '@localizer["The Suppliers"]',
                                            href: '/Stocks/Supplier/Index'
                                        },
                                        {
                                            text: '@localizer["Customers"]',
                                            href: '/Stocks/Customer/Index'
                                        },
                                        {
                                            text: '@localizer["Joining Users With Stocks and Accounts"]',
                                            href: '/Stocks/UserStockTransaction/Index'
                                        },
                                        {
                                            text: '@localizer["Joining Users With Stock Type"]',
                                            href: '/Stocks/StockEmpFlag/Index'
                                        },
                                        {
                                            text: '@localizer["Users Group"]',
                                            href: '/Stocks/UsersGroup/Index'
                                        },
                                        {
                                            text: '@localizer["Joining Users With Side"]',
                                            href: '/Stocks/UserSide/Index'
                                        },
                                        {
                                            text: '@localizer["Joining Units with Items"]',
                                            href: '/Stocks/ItemUnits/Index'
                                        }
                                    ]

                            },
                        ]
                    }, {
                        text: '@localizer["The Balances"]',
                        subMenu: [
                            {
                                text: '@localizer["The Stock Balances"]',
                                href: '/Stocks/StockBalance/ChooseStockType'
                            },
                        ]
                    }, {
                        text: '@localizer["The Codes"]',
                        subMenu: [
                            {
                                text: '@localizer["Order Limit"]',
                                href: '/Stocks/OrderLimit/Index'
                            },
                            {
                                text: '@localizer["Items Guide"]',
                                href: '/Stocks/MainItem/ChooseStockType'
                            },
                        ]
                    },
                    {
                        text: '@localizer["Transactions"]',
                        subMenu: [
                            {
                                text: '@localizer["Permissions Forms"]',
                                href: '/Stocks/PermissionForm/Index'
                            },]
                    }, {
                        text: '@localizer["Closing Procedures"]',
                        subMenu: [{
                            text: '@localizer["Opening and closing Transactions"]',
                            href: '/Stocks/OpenCloseTransaction/Index'
                        },
                        ]
                    },
                    {
                        text: '@localizer["Post Supplies"]',
                        subMenu: [{
                            text: '@localizer["Post Supplies To Stocks"]',
                            href: '/Stocks/TransferSuppliesToStock/Index'
                        },
                        {
                            text: '@localizer["Cancel Post Supplies To Stocks"]',
                            href: '/Stocks/CancelTransferSuppliesToStock/Index'
                        }
                        ]

                    },
                    {
                        text: '@localizer["Reports"]',
                        subMenu: [
                            {
                                text: '@localizer["Total Customer Transaction Report"]',
                                href: '/Stocks/TotalCustomerTransactionReport/Index'
                            },
                            {
                                text: '@localizer["Customer Transaction Quantity Report"]',
                                href: '/Stocks/CustomerTransactionReport/GetCustomerTransactionQuantityReport'
                            },
                            {
                                text: '@localizer["Customer Transaction Value Report"]',
                                href: '/Stocks/CustomerTransactionReport/GetCustomerTransactionValueReport'
                            },
                            {
                                text: '@localizer["Analytical Customer Transaction Report"]',
                                href: '/Stocks/AnalyticalCustomerTransactionReport/Index'
                            },
                            {
                                text: '@localizer["Request Limit Item Report"]',
                                href: '/Stocks/RequestLimitItemsReport/Index'
                            },
                            {
                                text: '@localizer["Display Permissions Forms"]',
                                href: '/Stocks/PermissionForm/AllRermissionForm'
                            },
                            {
                                text: '@localizer["Quantity class card only"]',
                                href: '/Stocks/QuantityClassCard/Index'
                            },
                            {
                                text: '@localizer["Quantity And Value Class Card"]',
                                href: '/Stocks/QuantityClassCard/QuantityAndValueClassCard'
                            },
                            {
                                text: '@localizer["At Level Transaction Class Card"]',
                                href: '/Stocks/QuantityClassCard/AtLevelTransactionCard'
                            },
                            {
                                text: '@localizer["Transfer And Receipt Transaction"]',
                                href: '/Stocks/TransferAndReceiptTransactionReport/Index'
                            },
                            {
                                text: '@localizer["The Total Item Cards - Quantity"]',
                                href: '/Stocks/TotalItemCards/TotalItemCardsQuantity'
                            },
                            {
                                text: '@localizer["The Total Item Cards - Price"]',
                                href: '/Stocks/TotalItemCards/TotalItemCardsPrice'
                            },
                            {
                                text: '@localizer["The Total Item Cards - Detail"]',
                                href: '/Stocks/TotalItemCards/TotalItemCardsDetail'
                            },
                            {
                                text: '@localizer["Fast Transaction Report"]',
                                href: '/Stocks/TransactionReport/FastTransactionReport'
                            },
                            {
                                text: '@localizer["Slow Transaction Report"]',
                                href: '/Stocks/TransactionReport/SlowTransactionReport'
                            },
                            {
                                text: '@localizer["Zero Transaction Report"]',
                                href: '/Stocks/TransactionReport/ZeroTransactionReport'
                            },
                            {
                                text: '@localizer["Total Permits Transaction Report"]',
                                href: '/Stocks/TransactionReport/TotalPermitsTransactionReport'
                            },
                            {
                                text: '@localizer["Supplier Permits Transaction Report"]',
                                href: '/Stocks/TransactionReport/SupplierPermitsTransactionReport'
                            },
                            {
                                text: '@localizer["Stock Balance Report"]',
                                href: '/Stocks/StockBalanceReport/Index'
                            }
                        ]
                    },
                ]
            }, {
                // Treasury System
                text: '@localizer["Treasury System"]', subMenu: [
                    {
                        text: '@localizer["Main data"]',
                        subMenu: [
                            {
                                text: '@localizer["Definitions"]',
                                subMenu: [
                                 {
              "text": "@localizer["Treasury Names"]",
              "href": "/Treasury/TreasuryName/Index"
            },
            {
              "text": "@localizer["Currencies"]",
              "href": "/Treasury/Currency/Index"
            },
            {
              "text": "@localizer["Banks"]",
              "href": "/Treasury/BankData/Index"
            },
            {
              "text": "@localizer["Cost Center Treasury"]",
              "href": "/Treasury/CostCenterTreasury/Index"
            },
            {
              "text": "@localizer["Joining Users With Treasurys"]",
              "href": "/Treasury/UserCashNo/Index"
            }]
                            },
                        ]
                    },
                    {
                        text: '@localizer["Transactions"]',
                        subMenu: [
                         {
          "text": "@localizer["The Cash"]",
          "subMenu": [
            {
              "text": "@localizer["Payment Receipt"]",
              "href": "/Treasury/AccSafeCash/Index?docType=SFCIN&flagType=oneANDtwo"
            },
            {
              "text": "@localizer["Disbursement permission"]",
              "href": "/Treasury/DisbursementPermission/Index?docType=SFCOT&flagType=oneANDtwo"
            },
            {
              "text": "@localizer["Receive Permission"]",
              "href": "/Treasury/ReceivePermission/Index?docType=SFTIN&flagType=oneANDtwoAndthree"
            },
            {
              "text": "@localizer["Transfer Permission"]",
              "href": "/Treasury/TransferPermission/Index?docType=SFTOT&flagType=oneANDtwoAndthree"
            }
          ]
        },
        {
          "text": "@localizer["The Checks"]",
          "subMenu": [
            {
              "text": "@localizer["Deposit check in Treasury"]",
              "href": "/Treasury/AccSafeCheck/Index?tranType=SFSIN&flagType=oneANDtwo"
            },
            {
              "text": "@localizer["Disbursement permission Checks"]",
              "href": "/Treasury/DisbursementPermissionCheck/Index?tranType=SFOUT&flagType=oneANDtwo"
            }
          ]
        }
                        ]
                    },
                    {
                        text: '@localizer["Reports"]',
                        subMenu: [
                         {
          "text": "@localizer["Follow up cash and checks"]",
          "href": "/Treasury/ReportCashAndChecks/Index?tranType=SFOUT&flagType=oneANDtwo"
        }
                        ]
                    },
                ]
            }, {
                // Accounts System
                text: '@localizer["Accounts System"]', subMenu: [
                    {
                        text: '@localizer["Main data"]',
                        subMenu: [
                            {
                                text: '@localizer["Definitions"]',
                                subMenu: [
                                 {
              "text": "@localizer["Accounts guide"]",
              "href": "/Accounts/AccMainCode/Index"
            },
            {
              "text": "@localizer["Cost Centers"]",
              "href": "/Accounts/CostCenter/Index"
            },
            {
              "text": "@localizer["Journal Types"]",
              "href": "/Accounts/JournalType/Index"
            },
            {
              "text": "@localizer["Modification of account codes"]",
              "href": "/Accounts/AccSubCodeEdit/Index"
            },
            {
              "text": "@localizer["Opening Balances"]",
              "href": "/Accounts/AccStartBal/Index"
            },
            {
              "text": "@localizer["Joining Users With Journals"]",
              "href": "/Accounts/UserJournalType/Index"
            }
                                ]
                            },
                        ]
                    },
                    {
                        text: '@localizer["Recording Restrictions"]',
                        subMenu: [
                          {
          "text": "@localizer["Journals"]",
          "href": "/Accounts/UserJournalType/JournalTypeForUser"
        },
        {
          "text": "@localizer["Cancel Journal Voucher"]",
          "href": "/Accounts/CancelJournalVoucher/Index"
        }
                        ]
                    }, {
                        text: '@localizer["Closing Procedures"]',
                        subMenu: [
                         {
          "text": "@localizer["Monthly Closing"]",
          "href": "/Accounts/MonthlyClosing/Index"
        },
        {
          "text": "@localizer["Cancel Journal Voucher"]",
          "href": "/Accounts/CancelJournalVoucher/Index"
        }
                        ]
                    },
                    {
                        text: '@localizer["Reports"]',
                        subMenu: [
                         {
          "text": "@localizer["American Daily"]",
          "href": "/Accounts/AmericanDaily/Index"
        },
        {
          "text": "@localizer["Print From Voucher To Voucher"]",
          "href": "/Accounts/ReportFromVoucherToVoucher/Index"
        },
        {
          "text": "@localizer["Assistant Professor(Analytical/Overall)"]",
          "href": "/Accounts/ReportAssistantProfessor/Index"
        },
        {
          "text": "@localizer["Transaction account for journal Level"]",
          "href": "/Accounts/ReportTransactionAccountJournal/Index"
        },
        {
          "text": "@localizer["Expense Analysis"]",
          "href": "/Accounts/ReportExpenseAnalysis/Index"
        },
        {
          "text": "@localizer["Review Journal Vouchers"]",
          "href": "/Accounts/ReportReviewJournalVouchers/Index"
        },
        {
          "text": "@localizer["General Professor For Facility"]",
          "href": "/Accounts/ReportGeneralProfessorFacility/Index"
        },
        {
          "text": "@localizer["Daily assistance for Voucher level"]",
          "href": "/Accounts/ReportDailyAssistance/Index"
        }
                        ]
                    },
                ]
            }, {
                // System Tools
                text: '@localizer["System Tools"]', subMenu: [
                    {
                        text: '@localizer["Main data"]',
                        subMenu: [
                        {
          "text": "@localizer["Definitions"]",
          "subMenu": [
            {
              "text": "@localizer["System Accounts Coding"]",
              "href": "/Shared/EisPosting/Index"
            }
          ]
        }
                        ]
                    },
                ]
            },


        ]);
    </script>

    <script type="text/javascript">
        // event name=>>DOMContentLoaded
        document.addEventListener("DOMContentLoaded", function () {
            // document.querySelectorAll("#mySidebar .nav-link").forEach(function (element) {
            //     element.addEventListener("click", function (e) {
            //         let nextEl = element.nextElementSibling;
            //         let parentEl = element.parentElement;

            //         if (nextEl) {
            //             //stop click on address like medical analysis
            //             e.preventDefault();

            //             if (nextEl.classList.contains("show")) {
            //                 // mycollapse.hide();
            //                 nextEl.classList.remove("show");
            //                 // let href = element.getAttribute("href");
            //                 // console.log(href);
            //                 // window.location.href = href;
            //             } else {
            //                 nextEl.classList.add("show");
            //             }
            //         }
            //     });
            // });
        });
        //DOMContentLoaded  end
    </script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
